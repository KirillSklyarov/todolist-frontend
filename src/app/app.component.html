<div #tabsetWrapper>
  <ngb-tabset [destroyOnHide]="false">
    <ngb-tab>
      <ng-template ngbTabTitle>
        Todolist
      </ng-template>
      <ng-template ngbTabContent>
        <app-todolist *ngIf="token"></app-todolist>
      </ng-template>
    </ngb-tab>
    <ngb-tab>
      <ng-template ngbTabTitle>
        Profile
      </ng-template>
      <ng-template ngbTabContent>
        <app-profile *ngIf="token"></app-profile>
      </ng-template>
    </ngb-tab>
    <div>
      <button>Register</button>
    </div>
  </ngb-tabset>
</div>

<li class="nav-item panel hidden" #panel>
  <div class="d-inline-flex justify-content-between w-100" *ngIf="token">
    <div class="d-inline-flex">
      <div *ngIf="token?.user.isPermanent">
      <span>
        {{token.user.username}}
      </span>
      </div>
      <div *ngIf="!token?.user.isPermanent">
        <button class="btn btn-primary" (click)="openRegister()">Register</button>
      </div>
      <div *ngIf="!token?.user.isPermanent">
        <button class="btn btn-primary" (click)="openLogin()">Log&nbsp;in</button>
      </div>
    </div>
    <div *ngIf="token">
      <button class="btn btn-danger" (click)="openLogout()">
        {{token.user.isPermanent ? 'Log&nbsp;out' : 'Purge'}}
      </button>
    </div>
  </div>
</li>
